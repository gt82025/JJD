!function(){window.$clamp=function(e,t){function n(e,t){return u.getComputedStyle||(u.getComputedStyle=function(e,t){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle&&e.currentStyle[t]?e.currentStyle[t]:null},this}),u.getComputedStyle(e,null).getPropertyValue(t)}function i(t){var n=t||e.clientHeight,i=l(e);return Math.max(Math.floor(n/i),0)}function l(e){var t=n(e,"line-height");return"normal"==t&&(t=1.2*parseInt(n(e,"font-size"))),parseInt(t)}function a(t){return t.lastChild.children&&t.lastChild.children.length>0?a(Array.prototype.slice.call(t.children).pop()):t.lastChild&&t.lastChild.nodeValue&&""!=t.lastChild.nodeValue&&t.lastChild.nodeValue!=c.truncationChar?t.lastChild:(t.lastChild.parentNode.removeChild(t.lastChild),a(e))}function r(e,t){e.nodeValue=t+c.truncationChar}t=t||{};var o,u=window,c={clamp:t.clamp||2,useNativeClamp:void 0===t.useNativeClamp||t.useNativeClamp,splitOnChars:t.splitOnChars||[".","-","–","—"," "],animate:t.animate||!1,truncationChar:t.truncationChar||"…",truncationHTML:t.truncationHTML},s=e.style,h=e.innerHTML,p=void 0!==e.style.webkitLineClamp,d=c.clamp,C=d.indexOf&&(d.indexOf("px")>-1||d.indexOf("em")>-1);c.truncationHTML&&((o=document.createElement("span")).innerHTML=c.truncationHTML);var f,m,v,g,y=c.splitOnChars.slice(0),H=y[0];if("auto"==d?d=i():C&&(d=i(parseInt(d))),p&&c.useNativeClamp)s.overflow="hidden",s.textOverflow="ellipsis",s.webkitBoxOrient="vertical",s.display="-webkit-box",s.webkitLineClamp=d,C&&(s.height=c.clamp+"px");else{var L=(g=d,l(e)*g);L<e.clientHeight&&(v=function t(n,i){if(i){var l=n.nodeValue.replace(c.truncationChar,"");if(f||(H=y.length>0?y.shift():"",f=l.split(H)),f.length>1?(m=f.pop(),r(n,f.join(H))):f=null,o&&(n.nodeValue=n.nodeValue.replace(c.truncationChar,""),e.innerHTML=n.nodeValue+" "+o.innerHTML+c.truncationChar),f){if(e.clientHeight<=i){if(!(y.length>=0&&""!=H))return e.innerHTML;r(n,f.join(H)+H+m),f=null}}else""==H&&(r(n,""),n=a(e),y=c.splitOnChars.slice(0),H=y[0],f=null,m=null);if(!c.animate)return t(n,i);setTimeout(function(){t(n,i)},!0===c.animate?10:c.animate)}}(a(e),L))}return{original:h,clamped:v}}}();