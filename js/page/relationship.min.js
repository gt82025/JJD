function onLoaded(){$firstBannerPic=$("section#Main picture"),$firstBannerPic.addClass("in"),$firstBannerText=$("section#Main .textBox"),$firstBannerText.addClass("in")}function scrollMagicStart(){var e=0;$scrollMagic=new ScrollMagic.Controller({}),$(window).width();new ScrollMagic.Scene({triggerElement:"section#Main",duration:10,offset:.5*$windowHeight}).on("enter",function(o){$("section#Main picture").removeClass("leave"),e>0&&$("section#Main picture").addClass("back")}).on("leave",function(o){$("section#Main picture").addClass("leave"),$("section#Main picture").removeClass("back"),e=1}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#Geometric",duration:10,offset:-.2*$windowHeight}).on("enter",function(e){$(".svgContainerA").addClass("active"),$(".svgContainerB").addClass("active")}).on("leave",function(e){}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#Geometric",duration:$windowHeight,offset:.3*$windowHeight}).on("enter",function(e){$("#Geometric .textBox").addClass("active")}).on("leave",function(e){}).addTo($scrollMagic);if($mobile);else{new ScrollMagic.Scene({triggerElement:"section#Geometric",duration:800,offset:.5*$windowHeight}).setPin("section#Geometric").addTo($scrollMagic)}var o=$(".hexagonContainer .hexagon1"),t=$(".hexagonContainer .hexagon2"),i=$(".hexagonContainer .hexagon3"),n=$(".hexagonContainer .hexagon4"),a=$(".hexagonContainer .hexagon5"),l=$(".hexagonContainer .hexagon6");TweenMax.to(o,0,{y:"50%"}),TweenMax.to(t,0,{y:"40%"}),TweenMax.to(i,0,{y:"60%"}),TweenMax.to(n,0,{y:"35%"}),TweenMax.to(a,0,{y:"45%"}),TweenMax.to(l,0,{y:"55%"});for(var r=[],c=0;c<5;c++)r.push($(".girlContainer .cake").eq(c));$mobile||(TweenMax.to(r[0],0,{x:"-100%"}),TweenMax.to(r[1],0,{x:"-100%"}),TweenMax.to(r[2],0,{x:"100%"}),TweenMax.to(r[3],0,{x:"100%"}),TweenMax.to(r[4],0,{y:"-100%"})),TweenMax.to($(".picOuter1"),0,{y:"14%"}),TweenMax.to($(".picOuter2"),0,{y:"5%"});new ScrollMagic.Scene({triggerElement:"section#People",offset:0}).on("enter",function(e){$(".openDoor .left").addClass("active"),$(".openDoor .right").addClass("active"),$(".People .content").addClass("active"),$(".hexagon_intro .hexagon").addClass("active")}).addTo($scrollMagic);if($mobile){new ScrollMagic.Scene({triggerElement:"section#People",duration:800,offset:.5*$windowHeight}).setPin("section#People").addTo($scrollMagic)}else{new ScrollMagic.Scene({triggerElement:"section#People",duration:2500,offset:.5*$windowHeight}).setPin("section#People").addTo($scrollMagic)}if($mobile);else{new ScrollMagic.Scene({triggerElement:"section#FeelingStory",duration:2e3,offset:.5*$windowHeight}).setPin("section#FeelingStory").addTo($scrollMagic)}if($mobile)$(".bgColor .pic").addClass("mobile");else{new ScrollMagic.Scene({triggerElement:"section#relationSweeter",duration:1e3,offset:.5*$windowHeight}).setPin("section#relationSweeter").addTo($scrollMagic);$(".bgColor .pic").removeClass("mobile")}if($mobile){new ScrollMagic.Scene({triggerElement:"section#People",offset:.8*$windowHeight}).on("enter",function(e){$(".openDoor .left").addClass("OpenMobile"),$(".openDoor .right").addClass("OpenMobile"),$(".hexagon_intro .hexagon").removeClass("active")}).on("leave",function(e){$(".openDoor .left").removeClass("OpenMobile"),$(".openDoor .right").removeClass("OpenMobile"),$(".hexagon_intro .hexagon").addClass("active")}).addTo($scrollMagic)}else{new ScrollMagic.Scene({triggerElement:"section#People",duration:1500,offset:$windowHeight}).setTween(".openDoor .left",1,{x:"-100%",ease:Power0.easeOut,delay:0}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#People",duration:1500,offset:$windowHeight}).setTween(".openDoor .right",1,{x:"100%",ease:Power0.easeOut,delay:0}).addTo($scrollMagic)}if($mobile);else{new ScrollMagic.Scene({triggerElement:"section#People",duration:800,offset:.8*$windowHeight}).setTween(r[0],1,{x:"0%",ease:Power2.easeOut,delay:.5,onComplete:function(){$(".hexagon_intro .hexagon").removeClass("active")}}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#People",duration:1300,offset:1*$windowHeight}).setTween(r[1],1,{x:"0%",ease:Power2.easeOut,delay:1}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#People",duration:1300,offset:1.2*$windowHeight}).setTween(r[2],1,{x:"0%",ease:Power2.easeOut,delay:1.5}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#People",duration:1300,offset:1.4*$windowHeight}).setTween(r[3],1,{x:"0%",ease:Power2.easeOut,delay:2}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#People",duration:1300,offset:1.6*$windowHeight}).setTween(r[4],1,{y:"0%",ease:Power2.easeOut,delay:2.5}).addTo($scrollMagic)}if($mobile);else{new ScrollMagic.Scene({triggerElement:"section#People",duration:2e3,offset:1.2*$windowHeight}).setTween(o,1,{y:"0%",ease:Power2.easeOut}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#People",duration:2e3,offset:1.2*$windowHeight}).setTween(t,1,{y:"0%",ease:Power2.easeOut}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#People",duration:2e3,offset:1.2*$windowHeight}).setTween(i,1,{y:"0%",ease:Power2.easeOut}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#People",duration:2e3,offset:1.2*$windowHeight}).setTween(n,1,{y:"0%",ease:Power2.easeOut}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#People",duration:2e3,offset:1.2*$windowHeight}).setTween(a,1,{y:"0%",ease:Power2.easeOut}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#People",duration:2e3,offset:1.2*$windowHeight}).setTween(l,1,{y:"0%",ease:Power2.easeOut}).addTo($scrollMagic)}if($mobile){new ScrollMagic.Scene({triggerElement:"section#People",offset:1.1*$windowHeight}).on("enter",function(e){$(".girlContainer").addClass("active")}).on("leave",function(e){$(".girlContainer").removeClass("active")}).addTo($scrollMagic)}else{new ScrollMagic.Scene({triggerElement:"section#People",offset:1.4*$windowHeight}).on("enter",function(e){$(".girlContainer").addClass("active")}).on("leave",function(e){$(".girlContainer").removeClass("active")}).addTo($scrollMagic)}new ScrollMagic.Scene({triggerElement:"section#People",delay:100,offset:.7*$windowHeight}).on("enter",function(e){$(".hexagon_intro .hexagon").addClass("active"),$(".openDoor").addClass("active")}).on("leave",function(e){$(".hexagon_intro .hexagon").removeClass("active"),$(".openDoor").removeClass("active")}).addTo($scrollMagic);if($mobile){new ScrollMagic.Scene({triggerElement:"section#FeelingStory",offset:-1.5*$windowHeight}).on("enter",function(e){$(".feeling_pic_1").addClass("active"),$(".feeling_pic_2").addClass("active"),drawdotApp=drawdot()}).addTo($scrollMagic)}else{new ScrollMagic.Scene({triggerElement:"section#FeelingStory",offset:.5*$windowHeight}).on("enter",function(e){$(".feeling_pic_1").addClass("active"),$(".feeling_pic_2").addClass("active"),$("#FeelingStory .dotItemBig").addClass("active")}).on("leave",function(e){$(".feeling_pic_1").removeClass("active"),$(".feeling_pic_2").removeClass("active"),$("#FeelingStory .dotItemBig").removeClass("active")}).addTo($scrollMagic)}if($mobile){new ScrollMagic.Scene({triggerElement:"section#FeelingStory",duration:2500,offset:-.2*$windowHeight}).setTween($(".dotItemBig.a img"),1,{y:"30%",x:"-30%",ease:Power0.easeOut}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#FeelingStory",duration:2500,offset:-.2*$windowHeight}).setTween($(".dotItemBig.b img"),1,{y:"40%",x:"-40%",ease:Power0.easeOut}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#FeelingStory",duration:2500,offset:-.2*$windowHeight}).setTween($(".dotItemBig.c img"),1,{y:"60%",x:"-60%",ease:Power0.easeOut}).addTo($scrollMagic)}else{new ScrollMagic.Scene({triggerElement:"section#FeelingStory",duration:2500,offset:.3*$windowHeight}).setTween($(".dotItemBig.a img"),1,{y:"30%",x:"-30%",ease:Power0.easeOut}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#FeelingStory",duration:2500,offset:.3*$windowHeight}).setTween($(".dotItemBig.b img"),1,{y:"40%",x:"-40%",ease:Power0.easeOut}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#FeelingStory",duration:2500,offset:.3*$windowHeight}).setTween($(".dotItemBig.c img"),1,{y:"60%",x:"-60%",ease:Power0.easeOut}).addTo($scrollMagic)}new ScrollMagic.Scene({triggerElement:"section#FeelingStory",duration:2e3,offset:.5*$windowHeight}).setTween($(".picOuter1"),1,{y:"0%",ease:Power2.easeOut}).addTo($scrollMagic),new ScrollMagic.Scene({triggerElement:"section#FeelingStory",duration:2e3,offset:.5*$windowHeight}).setTween($(".picOuter2"),1,{y:"0%",ease:Power2.easeOut}).addTo($scrollMagic);if($mobile){new ScrollMagic.Scene({triggerElement:"section#FeelingStory",offset:-.3*$windowHeight}).on("enter",function(e){$(".textBox.FS").addClass("active")}).on("leave",function(e){$(".textBox.FS").removeClass("active")}).addTo($scrollMagic)}else{new ScrollMagic.Scene({triggerElement:"section#FeelingStory",offset:.7*$windowHeight}).on("enter",function(e){$(".textBox.FS").addClass("active")}).on("leave",function(e){$(".textBox.FS").removeClass("active")}).addTo($scrollMagic)}new ScrollMagic.Scene({triggerElement:"section#relationSweeter",offset:.2*$windowHeight}).on("enter",function(e){$(".box.item1").addClass("active"),$(".box.item2").addClass("active"),$(".box.item3").addClass("active"),$(".box.item4").addClass("active"),$(".box.item5").addClass("active"),$(".box.item6").addClass("active"),$(".box.item7").addClass("active"),$(".box.item8").addClass("active"),$(".box.item9").addClass("active"),$(".box.item10").addClass("active")}).on("leave",function(e){$(".box.item1").removeClass("active"),$(".box.item2").removeClass("active"),$(".box.item3").removeClass("active"),$(".box.item4").removeClass("active"),$(".box.item5").removeClass("active"),$(".box.item6").removeClass("active"),$(".box.item7").removeClass("active"),$(".box.item8").removeClass("active"),$(".box.item9").removeClass("active"),$(".box.item10").removeClass("active")}).addTo($scrollMagic);if(TweenMax.to($("#girlContainer"),0,{y:"40%",opacity:0}),$mobile){new ScrollMagic.Scene({triggerElement:"section#Last_Cut",duration:800,offset:.5*$windowHeight}).setTween($("#girlContainer"),1,{y:"5%",opacity:1}).on("enter",function(e){$("#girlContainer").addClass("active")}).on("leave",function(e){}).setPin("section#Last_Cut").addTo($scrollMagic)}else{new ScrollMagic.Scene({triggerElement:"section#Last_Cut",duration:1200,offset:.5*$windowHeight}).setTween($("#girlContainer"),1,{y:"5%",opacity:1}).on("enter",function(e){$("#girlContainer").addClass("active")}).on("leave",function(e){$("#girlContainer").removeClass("active")}).setPin("section#Last_Cut").addTo($scrollMagic)}}function smoothScroll(){$("html").easeScroll({frameRate:30,animationTime:700,stepSize:65,pulseAlgorithm:1,pulseScale:6,pulseNormalize:1,accelerationDelta:20,accelerationMax:1,keyboardSupport:!0,arrowScroll:30,touchpadSupport:!0,fixedBackground:!0})}function drawdot(){ContainerH=$("#FeelingStory").height(),ball.src="images/gold_circle.png",ballQuantity=15,ball.addEventListener("load",ballTeam,!1)}function ballTeam(){for(var e=0;e<ballQuantity;e++){var o=30*Math.random()+8,t=new singleBall(Math.random()*(5*windowW)+-2*windowW,-50-5*e,o*(1.5/180),e,o,ball);ballArray.push(t)}ctx.fillRect(0,0,windowW,ContainerH),ballTeamFlyAnimate()}function ballTeamFlyAnimate(){theCanvas.height=ContainerH,theCanvas.width=windowW,ctx.fillStyle="#ffffff",ctx.fillRect(0,0,windowW,ContainerH);for(var e=0;e<ballQuantity;e++){ballArray[e].flyDown();var o=ballArray[e].flyDown().ballx,t=ballArray[e].flyDown().bally,i=ballArray[e].flyDown().ballSize;ctx.drawImage(ball,o,t,i,i)}requestAnimationFrame(ballTeamFlyAnimate)}var $scrollMagic,theCanvas,ctx;theCanvas=document.getElementById("ballContainer"),ctx=theCanvas.getContext("2d"),ctx.fillStyle="#ffffff";var drawdotApp;!function(e,o,t){smoothScroll()}(jQuery,window,document),$(window).load(function(){onLoaded(),$($canvas).attr("width",windowW),$($canvas).attr("height",windowH/2),$(theCanvas).attr("width",windowW),$(theCanvas).attr("height",$("#FeelingStory").height())});var windowW=$(window).width(),windowH=$(window).height(),$canvas,ContainerW,ContainerH,ballQuantity,ball=new Image,ballQuantity,requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,ballArray=[],singleBall=function(e,o,t,i,n,a){var l=i,r=e.toFixed(1),c=o.toFixed(1),s=t,g=parseInt(r,10),d=parseInt(c,10);this.flyDown=function(){return nowSize=n,g-=s,d+=s,(d>windowH+n||g<0-n)&&(d=parseInt(c,10),g=parseInt(r,10)),{id:l,ballx:g,bally:d,ballSize:nowSize}}};